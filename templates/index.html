<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMANG TECH - PREMIUM AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --accent: #10b981; --bg: #020617; }
        body { background: radial-gradient(circle at top right, #0f172a, #020617); color: #f8fafc; font-family: 'Rajdhani', sans-serif; min-height: 100vh; }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .neon-text { font-family: 'Orbitron', sans-serif; background: linear-gradient(to right, #10b981, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .btn-premium { background: linear-gradient(135deg, #059669 0%, #0d9488 100%); border: none; color: white; font-weight: 700; border-radius: 12px; transition: 0.3s; }
        .btn-premium:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4); }
        .number-display { background: #fff; color: #000; font-family: 'Orbitron', sans-serif; font-size: 1.8rem; font-weight: 800; padding: 15px; border-radius: 15px; text-align: center; border: 4px solid var(--accent); letter-spacing: 5px; }
        .label-tech { font-size: 0.7rem; color: var(--accent); text-transform: uppercase; font-weight: 700; display: flex; align-items: center; gap: 5px; margin-bottom: 5px; }
        .scanline { width: 100%; height: 2px; background: var(--accent); position: absolute; animation: scan 2s linear infinite; z-index: 10; box-shadow: 0 0 10px var(--accent); }
        @keyframes scan { from {top:0} to {top:100%} }
        .form-check-input:checked { background-color: var(--accent); border-color: var(--accent); }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="text-center mb-4"><h1 class="neon-text fw-bold">MAMANG TECH</h1><p class="small text-secondary">V3.0 HYBRID ANALYTICS</p></div>

            {% if not logged_in %}
            <div class="glass-card p-5 text-center">
                <i class="fas fa-user-lock fa-3x mb-4 text-info"></i>
                <div class="input-group"><input type="password" id="key" class="form-control bg-dark text-white border-0" placeholder="License Key"><button class="btn btn-premium px-4" onclick="login()">LOGIN</button></div>
            </div>
            {% else %}
            <div class="glass-card p-4 mb-4">
                <div class="mb-3">
                    <label class="label-tech"><i class="fas fa-server"></i> SERVER MARKET</label>
                    <select id="market" class="form-select bg-dark text-white border-secondary">
                        {% for m in markets %}<option value="{{ m }}">{{ m }}</option>{% endfor %}
                    </select>
                </div>
                
                <div class="mb-4">
                    <label class="label-tech"><i class="fas fa-microchip"></i> ALGORITHM ENGINE</label>
                    <div class="d-flex gap-2">
                        <input type="radio" class="btn-check" name="rumus_type" id="rV3" value="v3" checked>
                        <label class="btn btn-outline-success flex-fill" for="rV3">AI CORE V3</label>
                        <input type="radio" class="btn-check" name="rumus_type" id="rSatu" value="rumus_1">
                        <label class="btn btn-outline-info flex-fill" for="rSatu">RUMUS YANDEX</label>
                    </div>
                </div>

                <button class="btn btn-premium w-100 py-3" onclick="analyze()" id="btnAn">EXECUTE ANALYTICS</button>
            </div>

            <div id="resultCard" class="glass-card p-4 overflow-hidden position-relative" style="display:none;">
                <div id="scanEffect" class="scanline" style="display:none;"></div>
                <div class="d-flex justify-content-between mb-4"><h3 id="resMarket" class="text-white fw-bold mb-0"></h3><button class="btn btn-sm btn-outline-light" onclick="takeSs()">SAVE</button></div>
                
                <div class="row g-2 mb-4 text-center">
                    <div class="col-6"><div class="bg-dark p-2 rounded"><span class="label-tech justify-content-center">LAST</span><h4 id="resLast" class="mb-0"></h4></div></div>
                    <div class="col-6"><div class="bg-dark p-2 rounded"><span class="label-tech justify-content-center">POS</span><h5 id="resPosisi" class="mb-0 text-info"></h5></div></div>
                </div>

                <div class="mb-4"><label class="label-tech">BBFS MAIN (6D)</label><div id="resBbfs" class="number-display"></div></div>
                <div class="mb-4"><label class="label-tech text-info">BBFS SHADOW (5D)</label><div id="resShadow" class="number-display" style="border-color:#0ea5e9; border-style:dashed;"></div></div>
                
                <div class="row mb-4">
                    <div class="col-6"><label class="label-tech">TOP 3D</label><div id="res3d" class="small fw-bold"></div></div>
                    <div class="col-6"><label class="label-tech">TOP 4D</label><div id="res4d" class="small fw-bold"></div></div>
                </div>
                
                <div class="p-3 bg-dark rounded small">
                    <span class="text-success fw-bold">INVEST 2D:</span> <span id="res2dM" class="text-secondary"></span>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function login() { $.post('/login', {key:$('#key').val()}, (d) => location.reload()).fail(()=>alert('Key Salah!')); }
    function analyze() {
        $('#btnAn').text('PROCESSING...').attr('disabled', true);
        $('#scanEffect').show();
        $.post('/analyze', {
            market: $('#market').val(),
            rumus_type: $('input[name="rumus_type"]:checked').val()
        }, function(d) {
            setTimeout(() => {
                $('#btnAn').text('EXECUTE ANALYTICS').attr('disabled', false);
                $('#scanEffect').hide(); $('#resultCard').fadeIn();
                $('#resMarket').text(d.market); $('#resLast').text(d.last);
                $('#resPosisi').text(d.posisi); $('#resBbfs').text(d.bbfs.split('').join('-'));
                $('#resShadow').text(d.shadow.split('').join('-'));
                $('#res3d').text(d.top3d); $('#res4d').text(d.top4d); $('#res2dM').text(d.list2d_main);
            }, 1000);
        });
    }
    function takeSs() { html2canvas(document.getElementById('resultCard'),{backgroundColor:'#020617', scale:3}).then(c=>{const a=document.createElement('a');a.download='RESULT.png';a.href=c.toDataURL();a.click();});}
</script>
</body>
</html><!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMANG TECH - PREMIUM AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --accent: #10b981; --bg: #020617; }
        body { background: radial-gradient(circle at top right, #0f172a, #020617); color: #f8fafc; font-family: 'Rajdhani', sans-serif; min-height: 100vh; }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .neon-text { font-family: 'Orbitron', sans-serif; background: linear-gradient(to right, #10b981, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .btn-premium { background: linear-gradient(135deg, #059669 0%, #0d9488 100%); border: none; color: white; font-weight: 700; border-radius: 12px; transition: 0.3s; }
        .btn-premium:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4); }
        .number-display { background: #fff; color: #000; font-family: 'Orbitron', sans-serif; font-size: 1.8rem; font-weight: 800; padding: 15px; border-radius: 15px; text-align: center; border: 4px solid var(--accent); letter-spacing: 5px; }
        .label-tech { font-size: 0.7rem; color: var(--accent); text-transform: uppercase; font-weight: 700; display: flex; align-items: center; gap: 5px; margin-bottom: 5px; }
        .scanline { width: 100%; height: 2px; background: var(--accent); position: absolute; animation: scan 2s linear infinite; z-index: 10; box-shadow: 0 0 10px var(--accent); }
        @keyframes scan { from {top:0} to {top:100%} }
        .form-check-input:checked { background-color: var(--accent); border-color: var(--accent); }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="text-center mb-4"><h1 class="neon-text fw-bold">MAMANG TECH</h1><p class="small text-secondary">V3.0 HYBRID ANALYTICS</p></div>

            {% if not logged_in %}
            <div class="glass-card p-5 text-center">
                <i class="fas fa-user-lock fa-3x mb-4 text-info"></i>
                <div class="input-group"><input type="password" id="key" class="form-control bg-dark text-white border-0" placeholder="License Key"><button class="btn btn-premium px-4" onclick="login()">LOGIN</button></div>
            </div>
            {% else %}
            <div class="glass-card p-4 mb-4">
                <div class="mb-3">
                    <label class="label-tech"><i class="fas fa-server"></i> SERVER MARKET</label>
                    <select id="market" class="form-select bg-dark text-white border-secondary">
                        {% for m in markets %}<option value="{{ m }}">{{ m }}</option>{% endfor %}
                    </select>
                </div>
                
                <div class="mb-4">
                    <label class="label-tech"><i class="fas fa-microchip"></i> ALGORITHM ENGINE</label>
                    <div class="d-flex gap-2">
                        <input type="radio" class="btn-check" name="rumus_type" id="rV3" value="v3" checked>
                        <label class="btn btn-outline-success flex-fill" for="rV3">AI CORE V3</label>
                        <input type="radio" class="btn-check" name="rumus_type" id="rSatu" value="rumus_1">
                        <label class="btn btn-outline-info flex-fill" for="rSatu">RUMUS-1.PY</label>
                    </div>
                </div>

                <button class="btn btn-premium w-100 py-3" onclick="analyze()" id="btnAn">EXECUTE ANALYTICS</button>
            </div>

            <div id="resultCard" class="glass-card p-4 overflow-hidden position-relative" style="display:none;">
                <div id="scanEffect" class="scanline" style="display:none;"></div>
                <div class="d-flex justify-content-between mb-4"><h3 id="resMarket" class="text-white fw-bold mb-0"></h3><button class="btn btn-sm btn-outline-light" onclick="takeSs()">SAVE</button></div>
                
                <div class="row g-2 mb-4 text-center">
                    <div class="col-6"><div class="bg-dark p-2 rounded"><span class="label-tech justify-content-center">LAST</span><h4 id="resLast" class="mb-0"></h4></div></div>
                    <div class="col-6"><div class="bg-dark p-2 rounded"><span class="label-tech justify-content-center">POS</span><h5 id="resPosisi" class="mb-0 text-info"></h5></div></div>
                </div>

                <div class="mb-4"><label class="label-tech">BBFS MAIN (6D)</label><div id="resBbfs" class="number-display"></div></div>
                <div class="mb-4"><label class="label-tech text-info">BBFS SHADOW (5D)</label><div id="resShadow" class="number-display" style="border-color:#0ea5e9; border-style:dashed;"></div></div>
                
                <div class="row mb-4">
                    <div class="col-6"><label class="label-tech">TOP 3D</label><div id="res3d" class="small fw-bold"></div></div>
                    <div class="col-6"><label class="label-tech">TOP 4D</label><div id="res4d" class="small fw-bold"></div></div>
                </div>
                
                <div class="p-3 bg-dark rounded small">
                    <span class="text-success fw-bold">INVEST 2D:</span> <span id="res2dM" class="text-secondary"></span>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function login() { $.post('/login', {key:$('#key').val()}, (d) => location.reload()).fail(()=>alert('Key Salah!')); }
    function analyze() {
        $('#btnAn').text('PROCESSING...').attr('disabled', true);
        $('#scanEffect').show();
        $.post('/analyze', {
            market: $('#market').val(),
            rumus_type: $('input[name="rumus_type"]:checked').val()
        }, function(d) {
            setTimeout(() => {
                $('#btnAn').text('EXECUTE ANALYTICS').attr('disabled', false);
                $('#scanEffect').hide(); $('#resultCard').fadeIn();
                $('#resMarket').text(d.market); $('#resLast').text(d.last);
                $('#resPosisi').text(d.posisi); $('#resBbfs').text(d.bbfs.split('').join('-'));
                $('#resShadow').text(d.shadow.split('').join('-'));
                $('#res3d').text(d.top3d); $('#res4d').text(d.top4d); $('#res2dM').text(d.list2d_main);
            }, 1000);
        });
    }
    function takeSs() { html2canvas(document.getElementById('resultCard'),{backgroundColor:'#020617', scale:3}).then(c=>{const a=document.createElement('a');a.download='RESULT.png';a.href=c.toDataURL();a.click();});}
</script>
</body>
</html>
